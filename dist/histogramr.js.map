{"version":3,"sources":["lib/Maybe.js","index.js"],"names":[],"mappings":";;;;AAAA;;AAAA;AACI;AAAY;AAAe;AAC/B;AAIA;AAAiC;AAA2C;AAAyC;AAA2B;AAAwD;AAAgC;AAA2B;AAA0B;MAA6D;AAAA;AAAE;AAA2D;AAAgB;AAAmD;AAAmB;AAA0C;IAAsB;EAAG;AAEhjB;AAAkD;AAA0C;IAA0D;AAAA;AAAE;AAGpJ;AACI;AAEA;IACJ;AAAA;AAGI;AACA;AAEI;MACJ;AAAA;AAEA;AACA;AAEI;MACJ;AAAA;AAEA;AACA;AAEI;MACJ;AAAA;AAEA;AACA;AAEI;MACJ;AAAA;AAGJ;EACJ;AAEA;AACI;EACJ;AAEA;AAlDA;AAAiG;AAkD1E;AClDvB;;AAAA;AACI;AAAY;AAAe;AAC/B;AAGA;AAEA;AAEA;AAEA;AAAuC;EAAuD;AAAA;AAI1F;AACA;AACI;AAAkC;AAAoB;AAClD;MACJ;AAAA;AAGA;AACA;IACJ;EACJ;AAEA;AAEI;AAEA;AAEI;AAEI;MACJ;IACJ;AAEA;EACJ;AAAA;AAII;AAEA;AAEI;AAAuB;AAAW;AAIlC;AAAiB;AAAuC;IAG5D;EACJ;AAAA;AAII;AAEA;AAEI;AAEA;AAEA;IACJ;EACJ;AACA;AAEA;AAEI;AAEA;EACJ;AAAA;AAII;AAEA;EACJ;AAAA;AAII;AAEA;AACI;AACA;AACA;AAA2B;EAEnC;AAAA;AAhGA;AAAoG;AAkGvE","file":"histogramr.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Maybe = function () {\n    function Maybe(x) {\n        _classCallCheck(this, Maybe);\n\n        this.__value = x;\n    }\n\n    _createClass(Maybe, [{\n        key: \"map\",\n        value: function map(f) {\n\n            return this.isNothing() ? Maybe.of(null) : Maybe.of(f(this.__value));\n        }\n    }, {\n        key: \"isNothing\",\n        value: function isNothing() {\n\n            return this.__value === null || this.__value === undefined;\n        }\n    }, {\n        key: \"join\",\n        value: function join() {\n\n            return this.isNothing() ? Maybe.of(null) : this.__value;\n        }\n    }, {\n        key: \"emit\",\n        value: function emit() {\n\n            return this.__value;\n        }\n    }]);\n\n    return Maybe;\n}();\n\nMaybe.of = function (x) {\n    return new Maybe(x);\n};\n\nexports.default = Maybe;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = undefined;\n\nvar _Maybe = require('./lib/Maybe');\n\nvar _Maybe2 = _interopRequireDefault(_Maybe);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar memoize = function memoize(fn) {\n\n    var cache = {};\n    return function () {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var stringifiedArgs = JSON.stringify(args);\n        var result = cache[stringifiedArgs] = cache[stringifiedArgs] || fn.apply(undefined, args);\n        return result;\n    };\n};\n\nfunction parseChartColumns(arr) {\n\n    var obj = {};\n\n    Object.keys(monthOfTheYear()).forEach(function (key) {\n\n        obj[key] = monthOfTheYear()[key].map(function (val) {\n\n            return Number(arr[val]);\n        });\n    });\n\n    return obj;\n}\n\nfunction getTaxaList(arr) {\n\n    var startLine = 15;\n\n    return arr.reduce(function (prev, current, index) {\n\n        if (index < startLine) return prev;\n\n        var tabs = current.split(/\\t/);\n\n        if (tabs.length) prev[tabs[0]] = parseChartColumns(tabs);\n\n        return prev;\n    }, {});\n}\n\nvar _monthOfTheYear = function _monthOfTheYear() {\n\n    var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'Novermber', 'December'];\n\n    return months.reduce(function (prev, current, index) {\n\n        var oneIndex = (index + 1) * 4;\n\n        prev[current] = [oneIndex - 3, oneIndex - 2, oneIndex - 1, oneIndex];\n\n        return prev;\n    }, {});\n};\nvar monthOfTheYear = memoize(_monthOfTheYear);\n\nfunction getTaxa(arr) {\n\n    var TAXA = 10;\n\n    return Number(arr[TAXA].split(/\\t/)[1]);\n}\n\nfunction getSampleSize(arr) {\n\n    var SAMPLE_SIZE = 13;\n\n    return parseChartColumns(arr[SAMPLE_SIZE].split(/\\t/).slice(1));\n}\n\nfunction processFile(str) {\n\n    var lines = str.split(/\\n/);\n\n    return _Maybe2.default.of({\n        sampleSize: getSampleSize(lines),\n        taxaCount: getTaxa(lines),\n        taxaList: getTaxaList(lines)\n    });\n}\n\nexports.default = processFile;"]}