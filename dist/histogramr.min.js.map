{"version":3,"sources":["lib/Maybe.js","index.js"],"names":["$__System","registerDynamic","$__require","exports","module","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","Maybe","x","this","__value","f","isNothing","of","undefined","default","_interopRequireDefault","obj","__esModule","parseChartColumns","arr","keys","monthOfTheYear","forEach","map","val","Number","getTaxaList","startLine","reduce","prev","current","index","tabs","split","getTaxa","TAXA","getSampleSize","SAMPLE_SIZE","slice","processFile","str","lines","_Maybe2","sampleSize","taxaCount","taxaList","_Maybe","memoize","fn","cache","_len","arguments","args","Array","_key","stringifiedArgs","JSON","stringify","result","apply","_monthOfTheYear","months","oneIndex"],"mappings":"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","file":"histogramr.min.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Maybe = function () {\n    function Maybe(x) {\n        _classCallCheck(this, Maybe);\n\n        this.__value = x;\n    }\n\n    _createClass(Maybe, [{\n        key: \"map\",\n        value: function map(f) {\n\n            return this.isNothing() ? Maybe.of(null) : Maybe.of(f(this.__value));\n        }\n    }, {\n        key: \"isNothing\",\n        value: function isNothing() {\n\n            return this.__value === null || this.__value === undefined;\n        }\n    }, {\n        key: \"join\",\n        value: function join() {\n\n            return this.isNothing() ? Maybe.of(null) : this.__value;\n        }\n    }, {\n        key: \"emit\",\n        value: function emit() {\n\n            return this.__value;\n        }\n    }]);\n\n    return Maybe;\n}();\n\nMaybe.of = function (x) {\n    return new Maybe(x);\n};\n\nexports.default = Maybe;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = undefined;\n\nvar _Maybe = require('./lib/Maybe');\n\nvar _Maybe2 = _interopRequireDefault(_Maybe);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar memoize = function memoize(fn) {\n\n    var cache = {};\n    return function () {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var stringifiedArgs = JSON.stringify(args);\n        var result = cache[stringifiedArgs] = cache[stringifiedArgs] || fn.apply(undefined, args);\n        return result;\n    };\n};\n\nfunction parseChartColumns(arr) {\n\n    var obj = {};\n\n    Object.keys(monthOfTheYear()).forEach(function (key) {\n\n        obj[key] = monthOfTheYear()[key].map(function (val) {\n\n            return Number(arr[val]);\n        });\n    });\n\n    return obj;\n}\n\nfunction getTaxaList(arr) {\n\n    var startLine = 15;\n\n    return arr.reduce(function (prev, current, index) {\n\n        if (index < startLine) return prev;\n\n        var tabs = current.split(/\\t/);\n\n        if (tabs.length) prev[tabs[0]] = parseChartColumns(tabs);\n\n        return prev;\n    }, {});\n}\n\nvar _monthOfTheYear = function _monthOfTheYear() {\n\n    var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'Novermber', 'December'];\n\n    return months.reduce(function (prev, current, index) {\n\n        var oneIndex = (index + 1) * 4;\n\n        prev[current] = [oneIndex - 3, oneIndex - 2, oneIndex - 1, oneIndex];\n\n        return prev;\n    }, {});\n};\nvar monthOfTheYear = memoize(_monthOfTheYear);\n\nfunction getTaxa(arr) {\n\n    var TAXA = 10;\n\n    return Number(arr[TAXA].split(/\\t/)[1]);\n}\n\nfunction getSampleSize(arr) {\n\n    var SAMPLE_SIZE = 13;\n\n    return parseChartColumns(arr[SAMPLE_SIZE].split(/\\t/).slice(1));\n}\n\nfunction processFile(str) {\n\n    var lines = str.split(/\\n/);\n\n    return _Maybe2.default.of({\n        sampleSize: getSampleSize(lines),\n        taxaCount: getTaxa(lines),\n        taxaList: getTaxaList(lines)\n    });\n}\n\nexports.default = processFile;"]}